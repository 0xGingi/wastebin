{% extends "base.html" %}

{% block head %}
<script>
  document.addEventListener('keydown', onKey);

  function onKey(e) {
    if (e.key == 'n') {
      window.location.href = '/';
    }
    else if (e.key == 'r') {
      window.location.href = '/{{ id }}?fmt=raw';
    }
    else if (e.key == 'y') {
      navigator.clipboard.writeText(window.location.href);
    }
    else if (e.key == 'd') {
      window.location.href = '/{{ id }}?dl={{ ext }}';
    }
  }
</script>
{% endblock %}

{% block nav %}
  {% if can_delete %}
    <li><a href="/delete/{{ id }}"><button>delete</button></a></li>
  {% endif %}
    <li><a href="/{{ id }}?dl={{ ext }}"><button>download</button></a></li>
    <li><a href="/{{ id }}?fmt=raw"><button>raw</button></a></li>
{% endblock %}

{% block content %}
  <div>
    <div>
      <pre class="code">{{ html|safe }}</pre>
    </div>
  </div>
{% endblock %}
